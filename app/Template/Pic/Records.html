{% extends "Template.html" %} 

{% block Title %}
列表 - 图片 - {{ site.web_name }}
{% endblock %}

{% block Note %} 
    {% if note is defined %}
    <div class="page-header" id="note">
        <div class="alert alert-{{ note.code }} alert-dismissible" style="margin: 0 auto;min-width: 320px;">
            <button data-dismiss="alert" class="close"></button>
            <h4>系统消息</h4>
            <p>{{ note.text }}</p>
        </div>
    </div>
    <script>
        setTimeout(function () { document.getElementById("note").innerHTML = ''; }, 3000);
    </script> 
    {% endif %} 
{% endblock %} 

{% block Content %}

<div class="card">
    <div class="card-body">
        <a href="/pic/add" class="btn btn-primary">上 传</a>
    </div>
</div>

<div class="card">
    {% include 'Component/Action.html' %}

    <div class="card-body">
        {% if records is defined %}
        <div class="table-responsive">
            <table class="table table-hover table-outline table-vcenter text-nowrap card-table">
                <caption>{{ page.text }}</caption>
                {% include 'Component/Thead.html' %}
                <tbody>
                    {% for record in records %}
                    <tr>
                        <td class="text-center">
                            <a href="{{ record.path }}" target="_blank">
                                <img src="{{ record.path }}" class="rounded" style="width: 120px;">
                            </a>
                            {% if record.is_oss %}
                            <div><i class="fa fa-cloud text-success" title="已上传至阿里云"></i></div>
                            {% endif %}
                        </td>
                        <td class="text-center">
                            <div>{{ record.width }}</div>
                        </td>
                        <td class="text-center">
                            <div>{{ record.height }}</div>
                        </td>
                        <td class="text-center">
                            <div>{{ record.size }}</div>
                        </td>
                        <td class="text-center">
                            <div>{{ record.gmt_create }}</div>
                        </td>
                        <td class="text-center ant d-none">
                            <button type="button" class="btn btn-sm btn-outline-primary remove" data-id="{{ record.hash }}"><i class="fa fa-close mr-2"></i> 删除</button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        暂无数据。
        {% endif %}
    </div>

    {% if page.link != '' %}
    <div class="card-footer">
        {% autoescape false %} {{ page.link }} {% endautoescape %}
    </div>
    {% endif %}
</div>

{% endblock %}